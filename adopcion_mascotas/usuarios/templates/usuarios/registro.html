<form method="POST">
    {% csrf_token %}

    <!-- Campo para el correo electrónico -->
    <label for="email">Correo electrónico</label>
    {{ usuario_form.email }}

    <!-- Campo para el nombre -->
    <label for="nombre">Nombre</label>
    {{ usuario_form.nombre }}

    <!-- Campo para la contraseña -->
    <label for="password">Contraseña</label>
    {{ usuario_form.password }}

    <!-- Selección de rol -->
    <label>Rol</label>
    <label for="rol_adoptante">
        <input type="radio" id="rol_adoptante" name="rol" value="ADOPTANTE"
               {% if usuario_form.rol.value == 'ADOPTANTE' %}checked{% endif %}>
        Adoptante
    </label>
    <label for="rol_refugio">
        <input type="radio" id="rol_refugio" name="rol" value="REFUGIO"
               {% if usuario_form.rol.value == 'REFUGIO' %}checked{% endif %}>
        Refugio
    </label>

    <!-- Campo adicional para refugio -->
    <div id="refugio_nombre" style="display: none;">
        <label for="nombre_refugio">Nombre del Refugio</label>
        <input type="text" name="nombre_refugio" id="nombre_refugio">
    </div>

    <button type="submit">Registrarse</button>
</form>

<script>
    // Script para mostrar u ocultar el campo del nombre del refugio basado en el rol seleccionado
    document.addEventListener("DOMContentLoaded", function () {
        let rolAdoptante = document.getElementById("rol_adoptante");
        let rolRefugio = document.getElementById("rol_refugio");
        let refugioNombreDiv = document.getElementById("refugio_nombre");

        function toggleRefugioField() {
            refugioNombreDiv.style.display = rolRefugio.checked ? "block" : "none";
        }

        rolAdoptante.addEventListener("change", toggleRefugioField);
        rolRefugio.addEventListener("change", toggleRefugioField);

        toggleRefugioField(); // Ejecutar al cargar la página por si ya hay valores seleccionados
    });
</script>
